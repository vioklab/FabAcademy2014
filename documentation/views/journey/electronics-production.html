<div class="data-journey"><span class="glyphicon glyphicon-calendar"></span><div>week 4</div>19/02 - 26/02, 2014</div><div class="content-header"><h1>Electronics production</h1><p class="lead">Assemble your own fabbable in-system programmer (Fab ISP).</p><p><strong>Class web page:</strong> <a href="http://www.fabacademy.org/archive/classes/electronics_production/index.html" target="_blank">http://www.fabacademy.org/archive/classes/electronics_production/index.html</a><br></p></div><!-- Keep all page content within the page-content inset div! --><div class="page-content no-padding"><section><h2>My Journey</h2><p>The assignment for this week is basically produce our own Fab ISP (<a href="http://en.wikipedia.org/wiki/In-system_programming/" target="_blank">in-circtuit programmer</a>) using the milling machine <a href="http://www.fablabbcn.org/maquinas/fresadora-modela-mdx-20/" target="_blank">Roland Modela MDX-20</a> and the <a href="http://kokompe.cba.mit.edu/" target="_blank">Fab Modules.</a></p><p>In this first Fab Academy contact with electronics we have to choose between some Fab ISP choices. I choose the “hello.ISP.44” that use a cristal of 20Mhz instead the resonator.</p><ol><li><a href="http://www.fabacademy.org/archive/classes/embedded_programming/hello.ISP.44.cad" target="_blank">hello.ISP.44.cad</a></li><li><a href="http://www.fabacademy.org/archive/classes/embedded_programming/hello.ISP.44.png" target="_blank">Board</a></li><li><a href="http://www.fabacademy.org/archive/classes/embedded_programming/hello.ISP.44.components.png" target="_blank">Components</a></li><li><a href="http://www.fabacademy.org/archive/classes/embedded_programming/hello.ISP.44.traces.png" target="_blank">Traces</a></li><li><a href="http://www.fabacademy.org/archive/classes/embedded_programming/hello.ISP.44.interior.png" target="_blank">Interior</a></li></ol></section><section><h2>Tools and components used:</h2><ul><li>Tools:<ul><li>Roland Modela MDX-20</li><li>1/64 (engravement) and 1/32 (cutting) endmills.</li><li>Doble stick tape</li><li>Screwdriver</li></ul></li><li>Fab ISP board components:<ul><li>FR1 PCB</li><li>ATiny44 micro controller</li><li>6 Pin conn male</li><li>USB connector</li><li>Cristal 20MHz</li><li>Resistors: 0.0 Ohm or more known as jumper (2), 1K, 10K, 499 Ohm, 100 Ohms (2)</li><li>Capacitors: 1uF, 10pF(2)</li><li>Diodes: 3.3 V Zener (2)</li></ul></li></ul></section><section><h2>Milling process</h2><ol><li>Using the double faced tape I glow the board on one side taking care there are no relives.</li><li>Clean the board with alcohol and glow it in the milling machine working area. The 0,0 position is located at the bottom-left corner.</li><li>Power on Modela milli machine and press the “View Button” to set up the reference point to default value position (0,0)</li><li>Set up the 1/64 endmill with the setscrews on the milli machine. This endmill will serve us to first make the engravement of the circuit board.</li><li>In Terminal of my computer I use the command (fab) to open Fab Module and following the next steps:<ul><li>(fab) command to open the Fab Module Window.</li><li>Choose Milli Machine Submodule on the drop down menu.</li><li>On the New window select the Milli Machine endmill settings as 1/64.</li><li>Set offset of 6 (for bigger lines - easy to solder first time)</li><li>Click on the “load button” and select your “trace file”.</li><li>Click on the “make path button”.</li></ul></li><li>In the Fab module window over the 0,0 machine settings change the values to set a little inset space from the border and press “move to X-Y” as you think is necessary.</li><li>When you have set your 0,0 point reference, very carefully loosen chuck setscrews and lower end mill to Z axis '0' at the top of copper surface and then screw again the endmill.</li><li>On the computer click "make RML" file via Fab module and then send the file to production and in the pop up window press “build” button.</li><li>For cutting the board first click on the Modela the up button and change the drill tool to the 1/32 and set it lower end mill to Z axis ‘0’ at the top of copper and screw the drills.</li><li>On the Fab module click on the “load button” and select your “hello.ISP.44.interior.png”.</li><li>Select your Drill preferences as 1/32 and the offset to 6.</li><li>Press the “move to xmin, ymin” button.</li><li>Press “Make RML” file.</li><li>Press “Send it”</li><li>Press Build.</li></ol><!-- Gallery --><div class="row"><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2511.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2507.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2509.jpg"></div></div></div><!-- End Gallery --></section><section><h2>Finding Components and Soldering process</h2><p>I follow some tips for soldering process as take all my components in a tape. At the end this result much more effective for the time process.</p><!-- Gallery --><div class="row"><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2512.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2519.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/c_IMG_6344.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/c_IMG_6341-1.jpg"></div></div></div></section><section><h2>Smoke test and Programming the ISP using AVR2</h2><p>To continue with the assigment, Luciano recommends us to follow a tutorial that is very well explained:</p><p>Tutorial Notes for MAC users:</p><ol><li>To allow program the ISP we will need to have installed <a href="https://developer.apple.com/xcode/" target="_blank">Xcode</a> and <a href="http://www.obdev.at/products/crosspack/index.html" target="_blank">Crosspack</a> into a Mac</li><li>I use the <a href="http://www.atmel.com/tools/avrispmkii.aspx" target="_blank">ATMEL AVRISPmkII</a>to program for the first time the Fab ISP and I follow the instructions on the tutorial.</li><li>When the ISP is programmed I have to remove the bridge (or Resistor 0.0) SJ1 on the "hello.ISP.44.png"</li><li>Error on the Tutorial: We don’t have to remove SJ2.</li></ol><h4>Test</h4><p>To test if Fab ISP is working connect it via USB to your computer and go to the “apple icon” System Profiler >> Hardware >> USB >>.</p><h4>Notes:</h4><p>If you are programming your Fab ISP from another Fab ISP is necessary to configure the “make” file inside the “firmware.zip” folder.</p><!-- Gallery --><div class="row"><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2542.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/IMG_2544.jpg"></div></div></div><div class="row"><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/screenshoot-1.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/c_IMG_6341.jpg"></div></div></div><div class="row"><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/c_IMG_6345.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w4/c_IMG_6352.jpg"></div></div></div></section><section><h2>Conclusions</h2><p>In the first try I mill the Fab ISP PCB board and then I solder the components but when I connected to ATMEL AVRISPmkII it doesn’t recognise my Fab ISP. I check there no exist bad soldering components and after talk with my fablab instructor he recommend me to change the Cristal of 20Mhz. I tried to desolder the component but I had a problem because I loose the engravement of the board.</p><p>Finally I had start again my assignment. Very happy in one way because I want to practice and improve my skills soldering.</p><p>Later when I rebuild everything I tested on the AVERISP and it gives me feedback with the “YELLOW” button. I was very happy… is working. I need to check a litte details in the soldering. After improve little issues I go back to program test it and now it works very well!</p></section><section><h2>Tips:</h2><ol><li>Stick a board down (to be flat) and avoid tension over the corners and break the mil.</li><li>Do not use FR4 (epoxy glass) in machining cutting (It breaks the tools). (less common)</li><li>Clean the Wire with sponge then heat and solder. Heat both sides of the joins.</li><li>Order to solder: Bottom top - inside out - small to big components</li><li>Finally WASH THE BOARD to clean it and then let it dry.</li></ol></section><section><h2>References</h2><ol><li><a href="http://erikdemaine.org/curved/" target="_blank">http://erikdemaine.org/curved/</a></li><li>Search components parts : <a href="http://octopart.com" target="_blank">http://octopart.com</a></li><li>Machines that make: <a href="http://mtm.cba.mit.edu" target="_blank">http://mtm.cba.mit.edu/</a></li></ol></section></div>