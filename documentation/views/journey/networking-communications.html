<div class="data-journey"><span class="glyphicon glyphicon-calendar"></span><div>week 13</div>23/04 - 30/04, 2014</div><!-- <div class="data-journey-need-update">
	<span class="glyphicon glyphicon-info-sign"></span>
	<div>Need a review</div>
</div> --><div class="content-header"><h1>Networking and Communications</h1><p class="lead">design and build a wired / or wireless network connecting at least two nodes</p><p><strong>Class webpage:</strong> <a href="http://academy.cba.mit.edu/classes/networking_communications/index.html" target="_blank">http://academy.cba.mit.edu/classes/networking_communications/index.html</a><br></p></div><!-- Keep all page content within the page-content inset div! --><div class="page-content no-padding"><section><p>For this assigment I choose create a <code>I2C wire network communication</code> between my two Xduinos version boards (1.0 - 6.0) sharing the power source.</p><h2>Materials</h2><ol><li><a href="http://fabacademy.org/archives/2014/students/arrata.leonardo/index.html#/journey/input-devices" target="_blank">Xduino 1.0 (8mhz Resonator)</a></li><li>Xduino 6.0 (16mhz Crystal) - see below</li><li>4 Wires (5V, GND, SDA, SCL)</li><li>FTDI - USB Serial Cable</li><li><a href="http://arduino.cc/en/main/software" target="_blank">Arduino IDE</a></li><li><a href="http://arduino.cc/en/Reference/Wire" target="_blank">Wire Arduino Library</a></li></ol></section><section><h2>Xduino 6.0 - new design</h2><h4>Components</h4><ol><li>Atmega 328p microcontroller</li><li>16 MHz Crystal resonator</li><li>Capacitors (18pf,10uf,1uf)</li><li>Resistors (10k)</li><li>Red Led</li><li>Diode 100V</li><li>Power Regulator 100mA</li><li>Mini Power Jack</li><li>FTDI Serial connector</li><li>Reset Button</li></ol><h4>Features</h4><ol><li>I2C extension connector: pin 4 (SDA) pin 5 (SCL) independent connectors for communication</li><li>Raw Power share connector: it allow share between different boards.</li></ol><p><code>Please Note</code> that the power source new board design is <code>not full tested</code>. It would be nice to have future comments to continue improving the Fab Xduino :)</p><h4>Schematics and the Board</h4><div class="row"><div class="col-lg-12 col-md-12 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w13/schematic.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w13/board.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w10/ATMega168web.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w13/Xduino6.jpg"></div></div></div><h4>Programming the board</h4><p>To program the bootloader using the Arduino IDE on the atmega micro crontroller is necessary to follow the same steps as <a href="http://fabacademy.org/archives/2014/students/arrata.leonardo/index.html#/journey/input-devices" target="_blank">Xduino 1.0 (8mhz Resonator)</a>. The only difference is you need to choose: <code>Tools>Board>Arduino Pro or Pro Mini (5V, 16 MHz) w/Atmega 328</code> as we are using the 16 MHz Crystal clock.</p></section><section><h2>Network Communication</h2><p>The network is based in I2C communication using the pre-installed Wire library on the Arduino IDE. In this exercise I'd mixed the 2 methods (Mster reader - Slave snder and Master writer, Slave reveiver) to turn on the test if slave is sending a message while master is listening for slave. After the communication starts the boards pass to a loop sequence of turning on and off the led of the board (13 pin).</p><h4>Wire Connections</h4><p>It is nessesary to connect GND, 5V , SDA (pin4) - SCL (pin5). This configuration apply for ATMEGA 168/328.</p><div class="row"><div class="col-lg-12 col-md-12 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w13/master-slave.png"></div></div></div><div class="row"><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w13/net-1.jpg"></div></div><div class="col-lg-6 col-md-6 col-xs-12 thumb"><div class="thumbnail"><img class="img-responsive" src="images/w13/net-2.jpg"></div></div></div><div class="row"><div class="col-lg-8 col-md-8 col-xs-12 thumb"><div class="thumbnail"><iframe width="100%" height="360" src="//www.youtube.com/embed/fGNOwImYvPk?rel=0" frameborder="0" allowfullscreen></iframe></div></div></div></section><section><h2>Conclusions</h2><p>After feew hours of exploring the <code>"Wire arduino library"</code>, the most easy and documented way for me, and stablishing a easy communication I understand that the easy way to start a comminication between the boards is sending simple <code>messages</code> as many bytes or <code>simple character letters</code> as single byte.</p><p>I still need to improve the power source supply for the Xduino board but is still working for me with the FTDI since I am using the Serial communication for debbuging.</p></section><!-- DOWNLOAD FILES --><section><h2>Download Files</h2><p>Xduino 6.0: <a href="https://github.com/vioklab/FabAcademy2014/tree/master/boards/Xduino6.0" target="_blank">https://github.com/vioklab/FabAcademy2014/tree/master/boards/Xduino6.0</a></p><p>wireComLed13: <a href="https://github.com/vioklab/FabAcademy2014/tree/master/programming/wireComLed13" target="_blank">https://github.com/vioklab/FabAcademy2014/tree/master/programming/wireComLed13</a></p></section></div>